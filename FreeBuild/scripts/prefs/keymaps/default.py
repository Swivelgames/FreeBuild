# This little module maps glfw key definitions to libRocket key definitions
# Change if you have a nonstandard keyboard layout
# Or if one of those two components is replaced in the engine

def getKeyMap():
	return {
		-1 : 0,
		32 : 1,
		257 : 81,
		258 : 107,
		259 : 108,
		260 : 109,
		261 : 110,
		262 : 111,
		263 : 112,
		264 : 113,
		265 : 114,
		266 : 115,
		267 : 116,
		268 : 117,
		269 : 118,
		270 : 119,
		271 : 120,
		272 : 121,
		273 : 122,
		274 : 123,
		275 : 124,
		276 : 125,
		277 : 126,
		278 : 127,
		279 : 128,
		280 : 129,
		281 : 130,
		283 : 91,
		284 : 93,
		285 : 90,
		286 : 92,
		287 : 138,
		288 : 139,
		289 : 140,
		290 : 141,
		291 : 175,
		292 : 176,
		293 : 70,
		294 : 72,
		295 : 69,
		296 : 98,
		297 : 99,
		298 : 86,
		299 : 87,
		300 : 89,
		301 : 88,
		302 : 51,
		303 : 52,
		304 : 53,
		305 : 54,
		306 : 55,
		307 : 56,
		308 : 57,
		309 : 58,
		310 : 59,
		311 : 60,
		312 : 67,
		313 : 62,
		314 : 65,
		315 : 63,
		316 : 66,
		317 : 68,
		318 : 61,
		319 : 131,
		320 : 74,
		321 : 132,
		322 : 73,
		323 : 101,
		324 : 102,
		325 : 142,
		48 : 2,
		49 : 3,
		50 : 4,
		51 : 5,
		52 : 6,
		53 : 7,
		54 : 8,
		55 : 9,
		56 : 10,
		57 : 11,
		65 : 12,
		66 : 13,
		67 : 14,
		68 : 15,
		69 : 16,
		70 : 17,
		71 : 18,
		72 : 19,
		73 : 20,
		74 : 21,
		75 : 22,
		76 : 23,
		77 : 24,
		78 : 25,
		79 : 26,
		80 : 27,
		81 : 28,
		82 : 29,
		83 : 30,
		84 : 31,
		85 : 32,
		86 : 33,
		87 : 34,
		88 : 35,
		89 : 36,
		90 : 37,
		58 : 38,
		59 : 38,
		43 : 39,
		61 : 39,
		44 : 40,
		60 : 40,
		45 : 41,
		95 : 41,
		46 : 42,
		62 : 42,
		47 : 43,
		63 : 43,
		96 : 44,
		126 : 44,
		91 : 45,
		123 : 45,
		92 : 46,
		124 : 46,
		93 : 47,
		125 : 47,
		39 : 48,
		34 : 48
}



def getModifiersByName():
	return modifiers_by_name

def getModifiersByIndex():
	return modifiers_by_index

# Constants for check modifiers

modifiers_by_name = {
	'ctrl' : 1 << 0,
	'shift' : 1 << 1,
	'alt' : 1 << 2,
	'meta' : 1 << 3,
	'capslock' : 1 << 4,
	'numlock' : 1 << 5,
	'scrolllock' : 1 << 6
}

modifiers_by_index = { v : k for k,v in modifiers_by_name.iteritems()}

# Constants for glfw key codes

glfw_by_name = {
'"' : 34,
"'" : 39,
'+' : 43,
',' : 44,
'-' : 45,
'.' : 46,
'/' : 47,
'0' : 48,
'1' : 49,
'2' : 50,
'3' : 51,
'4' : 52,
'5' : 53,
'6' : 54,
'7' : 55,
'8' : 56,
'9' : 57,
':' : 58,
';' : 59,
'<' : 60,
'=' : 61,
'>' : 62,
'?' : 63,
'A' : 65,
'B' : 66,
'C' : 67,
'D' : 68,
'E' : 69,
'F' : 70,
'F1' : 258,
'F10' : 267,
'F11' : 268,
'F12' : 269,
'F13' : 270,
'F14' : 271,
'F15' : 272,
'F16' : 273,
'F17' : 274,
'F18' : 275,
'F19' : 276,
'F2' : 259,
'F20' : 277,
'F21' : 278,
'F22' : 279,
'F23' : 280,
'F24' : 281,
'F3' : 260,
'F4' : 261,
'F5' : 262,
'F6' : 263,
'F7' : 264,
'F8' : 265,
'F9' : 266,
'G' : 71,
'H' : 72,
'I' : 73,
'J' : 74,
'K' : 75,
'L' : 76,
'M' : 77,
'N' : 78,
'O' : 79,
'P' : 80,
'Q' : 81,
'R' : 82,
'S' : 83,
'T' : 84,
'U' : 85,
'V' : 86,
'W' : 87,
'X' : 88,
'Y' : 89,
'Z' : 90,
'[' : 91,
'\\' : 92,
']' : 93,
'_' : 95,
'`' : 96,
'backspace' : 295,
'capslock' : 320,
'delete' : 297,
'down-arrow' : 284,
'end' : 301,
'esc' : 257,
'home' : 300,
'insert' : 296,
'lalt' : 291,
'lcontrol' : 289,
'left-arrow' : 285,
'lmeta' : 323,
'lshift' : 287,
'menu' : 325,
'numlock' : 319,
'numpad*' : 313,
'numpad+' : 315,
'numpad-' : 314,
'numpad.' : 316,
'numpad/' : 312,
'numpad0' : 302,
'numpad1' : 303,
'numpad2' : 304,
'numpad3' : 305,
'numpad4' : 306,
'numpad5' : 307,
'numpad6' : 308,
'numpad7' : 309,
'numpad8' : 310,
'numpad9' : 311,
'numpad=' : 317,
'numpad_enter' : 318,
'page-down' : 299,
'page-up' : 298,
'pause' : 322,
'ralt' : 292,
'rcontrol' : 290,
'return' : 294,
'right-arrow' : 286,
'rmeta' : 324,
'rshift' : 288,
'scroll' : 321,
'space' : 32,
'tab' : 293,
'unknown' : -1,
'up-arrow' : 283,
'{' : 123,
'|' : 124,
'}' : 125,
'~' : 126
}

glfw_by_index = {v : k for k,v in glfw_by_name.iteritems()}

rocket_by_name = {
'\'"' : 48,
',<' : 40,
'-_' : 41,
'.>' : 42,
'/?' : 43,
'0' : 2,
'1' : 3,
'2' : 4,
'3' : 5,
'4' : 6,
'5' : 7,
'6' : 8,
'7' : 9,
'8' : 10,
'9' : 11,
';:' : 38,
'=+' : 39,
'A' : 12,
'B' : 13,
'C' : 14,
'D' : 15,
'E' : 16,
'F' : 17,
'F1' : 107,
'F10' : 116,
'F11' : 117,
'F12' : 118,
'F13' : 119,
'F14' : 120,
'F15' : 121,
'F16' : 122,
'F17' : 123,
'F18' : 124,
'F19' : 125,
'F2' : 108,
'F20' : 126,
'F21' : 127,
'F22' : 128,
'F23' : 129,
'F24' : 130,
'F3' : 109,
'F4' : 110,
'F5' : 111,
'F6' : 112,
'F7' : 113,
'F8' : 114,
'F9' : 115,
'G' : 18,
'H' : 19,
'I' : 20,
'J' : 21,
'K' : 22,
'L' : 23,
'M' : 24,
'N' : 25,
'O' : 26,
'P' : 27,
'Q' : 28,
'R' : 29,
'S' : 30,
'T' : 31,
'U' : 32,
'V' : 33,
'W' : 34,
'X' : 35,
'Y' : 36,
'Z' : 37,
'[{' : 45,
'\\|' : 46,
']}' : 47,
'`~' : 44,
'backspace' : 69,
'capslock' : 74,
'delete' : 99,
'down-arrow' : 93,
'end' : 88,
'esc' : 81,
'home' : 89,
'insert' : 98,
'lalt' : 175,
'lcontrol' : 140,
'left-arrow' : 90,
'lmeta' : 101,
'lshift' : 138,
'menu' : 142,
'numlock' : 131,
'numpad*' : 62,
'numpad+' : 63,
'numpad-' : 65,
'numpad.' : 66,
'numpad/' : 67,
'numpad0' : 51,
'numpad1' : 52,
'numpad2' : 53,
'numpad3' : 54,
'numpad4' : 55,
'numpad5' : 56,
'numpad6' : 57,
'numpad7' : 58,
'numpad8' : 59,
'numpad9' : 60,
'numpad=' : 68,
'numpad_enter' : 61,
'page-down' : 87,
'page-up' : 86,
'pause' : 73,
'ralt' : 176,
'rcontrol' : 141,
'return' : 72,
'right-arrow' : 92,
'rmeta' : 102,
'rshift' : 139,
'scroll' : 132,
'space' : 1,
'tab' : 70,
'unknown' : 0,
'up-arrow' : 91
}

rocket_by_index = {v : k for k,v in rocket_by_name.iteritems()}

two_to_one_src = [k for k in glfw_by_name.keys() if k not in rocket_by_name]
print rocket_by_name.keys()
two_to_one_map = {k : ((k+k2) if (k+k2) in rocket_by_name else (k2+k)) for k2 in two_to_one_src for k in two_to_one_src if ((k+k2) in rocket_by_name) or ((k2+k) in rocket_by_name)}
print two_to_one_map

keymap = { k : rocket_by_name[v if v in rocket_by_name else two_to_one_map[v]] for k,v in glfw_by_index.iteritems()}

print "Testing"
print sorted(keymap.keys())==sorted(getKeyMap().keys()),sorted(keymap.values())==sorted(getKeyMap().values())
print [keymap[k] for k in sorted(getKeyMap().keys())] == [getKeyMap()[k] for k in sorted(keymap.keys())]

